@feupkeep = 4
@feproduction = 12
@feproduction_lab = 8

mem_building_ancient_ruin_1 = {
	
    is_listed = no
	icon = "building_old_ruins"

	allow = {
		always = no
	}
	
	upgrades = {
		mem_building_ancient_factory
		mem_building_dark_matter_power_plant
		mem_building_agri_processing_complex
		mem_building_engineering_facility
		mem_building_biolab
		mem_building_physics_lab
	}
	
	ai_replace = no
	event_building = yes
	
	prerequisites = {
	}
}

mem_building_ancient_ruin_2 = {
	
    is_listed = no
	icon = "building_destroyed"

	allow = {
		always = no
	}
	
	prerequisites = {
	}
}

mem_building_crisis_ruin = {
	
    is_listed = no
	icon = "building_destroyed"

	allow = {
		always = no
	}
	
	prerequisites = {
	}
}

mem_building_ancient_monolith_0 = {
	
    is_listed = no
	icon = "building_monolith"

	allow = {
		always = no
	}
			
	upgrades = {
		mem_building_ancient_monolith_1
		mem_building_ancient_monolith_2
		mem_building_ancient_monolith_3
		mem_building_ancient_monolith_4
	}
	
	ai_replace = no
	event_building = yes
	
	prerequisites = {
	}
}

mem_building_ancient_monolith_1 = {
	
    is_listed = no
	icon = "building_mem_lex_ring_monolith"
	
	cost = {
		  energy = 1000
	}

	allow = {
	    custom_tooltip = {
			text = "mem_monolith_text"
			planet = {
				owner = {
				has_country_flag = mem_monolith 
				}
			    has_planet_flag = "mem_ring_1"
			    NOT = { has_planet_flag = "mem_nuked" }
			}
		}
	}
	
	ai_replace = no
	event_building = yes
	
	planet_modifier  = {
		tile_resource_engineering_research_mult = 1
		tile_resource_society_research_mult = 1
		tile_resource_physics_research_mult = 1
	}
			
	prerequisites = {
	}
}

mem_building_ancient_monolith_2 = {
	
    is_listed = no
	icon = "building_mem_lex_ring_monolith"
	
	cost = {
		  energy = 1000
	}

	allow = {
		custom_tooltip = {
			text = "mem_monolith_text"
			planet = {
				owner = { has_country_flag = mem_monolith 
				}
			    has_planet_flag = "mem_ring_2"
			    NOT = { has_planet_flag = "mem_nuked" }
			}
		}
	}
	
	ai_replace = no
	event_building = yes

	planet_modifier  = {
		tile_resource_energy_mult = 1
		
	}
		
	prerequisites = {
	}
}

mem_building_ancient_monolith_3 = {
	
    is_listed = no
	icon = "building_mem_lex_ring_monolith"
	
	cost = {
		  energy = 1000
	}

	allow = {
		custom_tooltip = {
		    text = "mem_monolith_text"
			planet = {
				owner = {
				has_country_flag = mem_monolith 
				}
			    has_planet_flag = "mem_ring_3"
			    NOT = { has_planet_flag = "mem_nuked" }
			}
		}
	}
	
	ai_replace = no
	event_building = yes

	planet_modifier  = {
	    tile_resource_minerals_mult = 1
	}
		
	prerequisites = {
	}
}

mem_building_ancient_monolith_4 = {
	
    is_listed = no
	icon = "building_mem_lex_ring_monolith"
	
	cost = {
		  energy = 10000
	}

	allow = {
		custom_tooltip = {
			text = "mem_monolith_core_text"
			planet = {
				owner = {
				has_country_flag = mem_UNLOCK 
				}
			    has_planet_flag = "mem_nuked"
			}	
		}
	}
	
	ai_replace = no
	event_building = yes
	
	on_queued = {
		owner = {
			set_country_flag = mem_monolith
		}
	}
	
	on_unqueued = {
		owner = {
			remove_country_flag = mem_monolith
		}
	}
	
	country_modifier = {
		navy_size_mult = 1
	}
		
	prerequisites = {
	}
}

mem_building_ancient_factory = {
	
    is_listed = no
	icon = "building_ancient_factory"
	
	cost = {
		  energy = 500
	}
	
	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_monolith"
			planet = {
					has_building = "mem_building_ancient_monolith_3"
			}
		}
	}
	
	ai_replace = no
	event_building = yes
		
	produced_resources = {
		minerals = @feproduction
	}
	
	required_resources = {
		energy = @feupkeep
	}	
	
	prerequisites = {
	}
}

mem_building_dark_matter_power_plant = {
	
    is_listed = no
	icon = "building_dark_matter_power_plant"
	
	cost = {
		  energy = 500
	}
	
	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_monolith"
			planet = {
					has_building = "mem_building_ancient_monolith_2"
			}
		}
	}
	
	ai_replace = no
	event_building = yes
		
	produced_resources = {
		energy = 15
	}
	
	prerequisites = {
	}
}

mem_building_agri_processing_complex = {
	
    is_listed = no
	icon = "building_agri_processing_complex"
	
	cost = {
		  energy = 500
	}
	
	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_monolith"
			planet = {
				OR = {
					has_building = "mem_building_ancient_monolith_1"
					has_building = "mem_building_ancient_monolith_2"
					has_building = "mem_building_ancient_monolith_3"
				}
			}
		}
	}
	
	ai_replace = no
	event_building = yes
	
	produced_resources = {
		food = @feproduction
	}
	
	required_resources = {
		energy = @feupkeep
	}
	
	prerequisites = {
	}
}

mem_building_engineering_facility = {

	is_listed = no
	icon = "building_mem_lex_ring_engineering_facility"
	
	cost = {
		  energy = 500
	}
	
	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_monolith"
			planet = {
					has_building = "mem_building_ancient_monolith_1"
			}
		}
	}
	
	ai_replace = no
	event_building = yes
	
	produced_resources = {
		engineering_research = @feproduction_lab
		physics_research = 1
		society_research = 1
	}
	
	required_resources = {
		energy = @feupkeep
	}
	
	prerequisites = {
	}	
}

mem_building_biolab = {

	is_listed = no
	icon = "building_mem_lex_ring_biolab"
	
	cost = {
		  energy = 500
	}
	
	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_monolith"
			planet = {
					has_building = "mem_building_ancient_monolith_1"
			}
		}
	}
	
	ai_replace = no
	event_building = yes
	
	produced_resources = {
		engineering_research = 1
		physics_research = 1
		society_research = @feproduction_lab
	}
	
	required_resources = {
		energy = @feupkeep
	}
	
	prerequisites = {
	}	
}

mem_building_physics_lab = {

	is_listed = no
	icon = "building_mem_lex_ring_physics_lab"
	
	cost = {
		  energy = 500
	}
	
	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_monolith"
			planet = {
					has_building = "mem_building_ancient_monolith_1"
			}
		}
	}
	
	ai_replace = no
	event_building = yes
	
	produced_resources = {
		engineering_research = 1
		physics_research = @feproduction_lab
		society_research = 1
	}
	
	required_resources = {
		energy = @feupkeep
	}
	
	prerequisites = {
	}	
}

mem_building_obelisk_0_1 = {
	
    is_listed = no
	icon = "building_zanaam_obelisk"

	allow = {
		always = no
	}
			
	upgrades = {
		mem_building_obelisk_1
	}
	
	produced_resources = {
		engineering_research = 8
		society_research = 8
		physics_research = 8
	}
	
	ai_replace = no
	event_building = yes
	
	prerequisites = {
	}
}

mem_building_obelisk_0_2 = {
	
    is_listed = no
	icon = "building_zanaam_obelisk"

	allow = {
		always = no
	}
			
	upgrades = {
		mem_building_obelisk_2
	}
	
	produced_resources = {
		engineering_research = 8
		society_research = 8
		physics_research = 8
	}
	
	ai_replace = no
	event_building = yes
	
	prerequisites = {
	}
}

mem_building_obelisk_0_3 = {
	
    is_listed = no
	icon = "building_zanaam_obelisk"

	allow = {
		always = no
	}
			
	upgrades = {
		mem_building_obelisk_3
	}
	
	produced_resources = {
		engineering_research = 8
		society_research = 8
		physics_research = 8
	}
	
	ai_replace = no
	event_building = yes
	
	prerequisites = {
	}
}

mem_building_obelisk_0_4 = {
	
    is_listed = no
	icon = "building_zanaam_obelisk"

	allow = {
		always = no
	}
			
	upgrades = {
		mem_building_obelisk_4
	}
	
	produced_resources = {
		engineering_research = 8
		society_research = 8
		physics_research = 8
	}
	
	ai_replace = no
	event_building = yes
	
	prerequisites = {
	}
}

mem_building_obelisk_1 = {
	
    is_listed = no
	icon = "building_mem_lex_obelisk"
	
	cost = {
		  energy = 1000
		  influence = 50
	}

	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_obelisk"
			has_global_flag = mem_obelisk_1_research_clear
			NOT = {
				has_global_flag = mem_conduit_eye_appeared
			}
			planet = {
				has_building = "mem_building_obelisk_0_1"
			}
		}
	}

	produced_resources = {
		engineering_research = 8
		society_research = 8
		physics_research = 8
	}
	
	planet_modifier  = {
		tile_resource_engineering_research_mult = 0.25
		tile_resource_physics_research_mult = 0.25
		tile_resource_society_research_mult = 0.25
	}
	
	ai_replace = no
	event_building = yes
}

mem_building_obelisk_2 = {
	
    is_listed = no
	icon = "building_mem_lex_obelisk"
	
	cost = {
		  energy = 2000
		  influence = 100
	}

	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_obelisk"
			has_global_flag = mem_obelisk_2_research_clear
			NOT = {
				has_global_flag = mem_conduit_eye_appeared
			}
			planet = {
				has_building = "mem_building_obelisk_0_2"	
			}
		}
	}
	
	produced_resources = {
		engineering_research = 8
		society_research = 8
		physics_research = 8
	}
	
	planet_modifier  = {
		tile_resource_engineering_research_mult = 0.25
		tile_resource_physics_research_mult = 0.25
		tile_resource_society_research_mult = 0.25
	}
	
	ai_replace = no
	event_building = yes
}

mem_building_obelisk_3 = {
	
    is_listed = no
	icon = "building_mem_lex_obelisk"
	
	cost = {
		  energy = 3000
		  influence = 150
	}

	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_obelisk"
			has_global_flag = mem_obelisk_3_research_clear
			NOT = {
				has_global_flag = mem_conduit_eye_appeared
			}
			planet = {
				has_building = "mem_building_obelisk_0_3"
			}
		}
	}
	
	produced_resources = {
		engineering_research = 8
		society_research = 8
		physics_research = 8
	}
	
	planet_modifier  = {
		tile_resource_engineering_research_mult = 0.25
		tile_resource_physics_research_mult = 0.25
		tile_resource_society_research_mult = 0.25
	}
	
	ai_replace = no
	event_building = yes
}

mem_building_obelisk_4 = {
	
    is_listed = no
	icon = "building_mem_lex_obelisk"
	
	cost = {
		  energy = 4000
		  influence = 200
	}

	allow = {
		custom_tooltip = {
			text = "requires_building_ancient_obelisk"
			has_global_flag = mem_obelisk_4_research_clear
			NOT = {
				has_global_flag = mem_conduit_eye_appeared
			}
			planet = {
				has_building = "mem_building_obelisk_0_4"
			}
		}
	}
	
	produced_resources = {
		engineering_research = 8
		society_research = 8
		physics_research = 8
	}
	
	planet_modifier  = {
		tile_resource_engineering_research_mult = 0.25
		tile_resource_physics_research_mult = 0.25
		tile_resource_society_research_mult = 0.25
	}
	
	ai_replace = no
	event_building = yes
}