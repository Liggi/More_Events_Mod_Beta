#Central system. Watching the watchmen.

#Central system
mem_regressors_central_system = {
	class = sc_black_hole
	asteroids_distance = 60
	name = "Inintard Zuul"
	
	usage = misc_system_init
	usage_odds = 1
	max_instances = 1
	
	flags = { mem_regressors_central_system }
	
	planet = {
		class = star
		orbit_distance = 0
	}
	
	change_orbit = 60
	
	planet = {
		count = 1
		name = "MXX-Z89"
		orbit_distance = 0
		size = 9
		class = pc_asteroid
		
		flags = { mem_regressors_asteroid }
		
		init_effect = {
			prevent_anomaly = yes
			orbital_deposit_tile = { clear_deposits = yes }
		}
	}
	
	planet = {
		count = 3
		orbit_distance = 0
		orbit_angle = { min = 30 max = 90 }
		class = pc_asteroid
		size = { min = 4 max = 6 }
	}
	
	planet = {
		count = 1
		class = pc_barren
		orbit_distance = 30
		entity = "barren_planet_01_destroyed_entity"
		
		init_effect = {
			prevent_anomaly = yes
			orbital_deposit_tile = { clear_deposits = yes }
			
			create_ambient_object = {
				type = "large_debris_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 20
					angle = 20
				}
			}
			create_ambient_object = {
				type = "large_debris_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 20
					angle = 150
				}
			}
			create_ambient_object = {
				type = "medium_debris_01_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 35
					angle = 90
				}
			}
			create_ambient_object = {
				type = "medium_debris_02_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 3
					angle = 270
				}
			}
		}
	}
	
	init_effect = {
		random_list = {
			85 = {  }
			1500 = {
				spawn_system = {
					min_distance = 20
					max_distance = 50
					initializer = "mem_regressor_one"
				}
				spawn_system = {
					min_distance = 20
					max_distance = 50
					initializer = "mem_regressor_two"
				}
				spawn_system = {
					min_distance = 20
					max_distance = 50
					initializer = "mem_regressor_three"
				}
			}
		}
	}
}

#1984
mem_regressor_one = {
	class = rl_standard_stars
	flags = { primitive_system }
	
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	
	change_orbit = 20
	
	planet = {
		orbit_distance = 20
		count = { min = 0 max = 3 }
	}
	
	change_orbit = 20
	
	planet = {
		count = 1
		class = rl_habitable_normal
		size = 16
		
		init_effect = {
			prevent_anomaly = yes
			create_species = {
				name = random
				class = random
				portrait = random
				homeworld = THIS
				traits = {
					trait = random_traits
				}
			}
		}
	}
}